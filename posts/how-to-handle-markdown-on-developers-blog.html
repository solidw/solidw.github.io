<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@site"/><meta name="twitter:creator" content="@handle"/><meta property="og:url" content="https://solidw.github.io"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solidw.github.io/me.jpeg"/><meta property="og:image:alt" content="펜로즈의 삼각형"/><meta property="og:image:width" content="300"/><meta property="og:image:height" content="300"/><meta property="og:locale" content="ko_KR"/><meta property="og:site_name" content="solidw의 블로그"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><title>개발 블로그에서 마크다운을 다루는 방법 |  solidw의 블로그</title><meta name="robots" content="index,follow"/><meta name="description" content="개발 블로그에 기본이라고 할 수 있는 Markdown 파서와 Syntax highlight 삽질을 들여다보자"/><meta property="og:title" content="개발 블로그에서 마크다운을 다루는 방법 |  solidw의 블로그"/><meta property="og:description" content="개발 블로그에 기본이라고 할 수 있는 Markdown 파서와 Syntax highlight 삽질을 들여다보자"/><link rel="canonical" href="https://solidw.github.io/posts/how-to-handle-markdown-on-developers-blog"/><meta name="next-head-count" content="19"/><meta name="theme-color" content="#e5e6ff"/><meta name="naver-site-verification" content="10cd16441bbd706012ce8f01d85b6b34a2c5dfce"/><meta name="google-site-verification" content="rLTjyFm7D8DYd7KSU-QEXXEskWiK-7CxvagBJZkmDEY"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-c491b2a411a4f8fa.js" defer=""></script><script src="/_next/static/chunks/framework-bd11988bb31fcb16.js" defer=""></script><script src="/_next/static/chunks/main-d8a3c71555236dc9.js" defer=""></script><script src="/_next/static/chunks/pages/_app-675e370095582563.js" defer=""></script><script src="/_next/static/chunks/10-5b311a0650b013aa.js" defer=""></script><script src="/_next/static/chunks/206-fe78221092f37e7a.js" defer=""></script><script src="/_next/static/chunks/802-f8420e22c95f8f9b.js" defer=""></script><script src="/_next/static/chunks/910-00f35c94c04c4c18.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bpath%5D-4dc429d8bb35f5ba.js" defer=""></script><script src="/_next/static/5EtWXaz9qWYw7KH_bE9UX/_buildManifest.js" defer=""></script><script src="/_next/static/5EtWXaz9qWYw7KH_bE9UX/_ssgManifest.js" defer=""></script><script src="/_next/static/5EtWXaz9qWYw7KH_bE9UX/_middlewareManifest.js" defer=""></script></head><link rel="apple-touch-icon" sizes="57x57" href="/favicon/apple-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/favicon/apple-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/favicon/apple-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/favicon/apple-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/favicon/apple-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/favicon/apple-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/favicon/apple-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/favicon/apple-icon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-icon-180x180.png"/><link rel="icon" type="image/png" sizes="192x192" href="/favicon/android-icon-192x192.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/favicon/favicon-96x96.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/manifest.json"/><meta name="msapplication-TileColor" content="#ffffff"/><meta name="msapplication-TileImage" content="/favicon/ms-icon-144x144.png"/><meta name="theme-color" content="#ffffff"/><body><div id="__next"><style data-emotion="css-global 19g0mvz">html{line-height:1.15;-webkit-text-size-adjust:100%;}body{margin:0;}main{display:block;}h1{font-size:2em;margin:0.67em 0;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace,monospace;font-size:1em;}a{background-color:transparent;}abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;}b,strong{font-weight:bolder;}code,kbd,samp{font-family:monospace,monospace;font-size:1em;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}img{border-style:none;}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{vertical-align:baseline;}textarea{overflow:auto;}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}[type="search"]::-webkit-search-decoration{-webkit-appearance:none;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details{display:block;}summary{display:-webkit-box;display:-webkit-list-item;display:-ms-list-itembox;display:list-item;}template{display:none;}[hidden]{display:none;}@font-face{font-family:"VitroCore";src:local("/fonts/VitroCore.ttf"),url("/fonts/VitroCore.ttf");}@font-face{font-family:"VitroPride";src:local("/fonts/VitroPride.ttf"),url("/fonts/VitroPride.ttf");}body{font-family:"VitroPride","VitroCore","SpoqaHanSansRegular",Arial,Helvetica,sans-serif;font-size:1.6rem;}html{font-size:62.5%;}*{box-sizing:border-box;word-break:break-all;}html{color:#001f3f;background-color:#e5e6ff;}</style><style data-emotion="css 1xaekgw">.css-1xaekgw{margin-top:20px;}</style><style data-emotion="css 1tm3qx5">.css-1tm3qx5{position:-webkit-sticky;position:sticky;top:0;height:80px;z-index:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;padding:0px 30px;background-color:#e5e6ff;box-shadow:5px 5px 5px #c3c4d9,-5px -5px 5px #ffffff;}</style><header class="css-1tm3qx5"><style data-emotion="css b2tuel">.css-b2tuel{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:20px;font-size:1.4rem;list-style:none;margin:0;padding:0;}</style><ul class="css-b2tuel"><li class="css-0"><style data-emotion="css pb9bc6">.css-pb9bc6{font-size:2.4rem;font-weight:bold;}</style><style data-emotion="css i8ev83">.css-i8ev83{-webkit-text-decoration:none;text-decoration:none;color:inherit;font-size:2.4rem;font-weight:bold;}</style><a class="css-i8ev83" href="/">solidw</a></li></ul><style data-emotion="css p9mjn3">.css-p9mjn3{-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;font-size:1.8rem;}</style><style data-emotion="css kav0r6">.css-kav0r6{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:20px;font-size:1.4rem;list-style:none;margin:0;padding:0;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;font-size:1.8rem;}</style><ul class="css-kav0r6"><li class="css-0"><style data-emotion="css co7u6l">.css-co7u6l{-webkit-text-decoration:none;text-decoration:none;color:inherit;}</style><a class="css-co7u6l" href="/me"><style data-emotion="css fd2297">.css-fd2297{padding:8px 20px;font-size:1.6rem;border-radius:8px;border:none;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;color:#001f3f;background:#e5e6ff;box-shadow:5px 5px 10px #c3c4d9,-5px -5px 10px #ffffff;}.css-fd2297:hover{box-shadow:2px 2px 5px #c3c4d9,-2px -2px 5px #ffffff;}.css-fd2297:active{box-shadow:inset 1px 1px 2px #c3c4d9,inset -1px -1px 2px #ffffff;}</style><button class="css-fd2297">ME</button></a></li><li class="css-0"><a class="css-co7u6l" href="/"><button class="css-fd2297">POST</button></a></li></ul></header><style data-emotion="css dzcaqd">.css-dzcaqd{-webkit-flex:1;-ms-flex:1;flex:1;margin-top:20px;}</style><main class="css-dzcaqd"><style data-emotion="css hm6m8u">.css-hm6m8u{max-width:900px;margin:0 auto;height:100%;}</style><div class="css-hm6m8u"><style data-emotion="css 13fupha">.css-13fupha{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-radius:15px;padding:20px;box-shadow:3px 3px 5px #c3c4d9,-3px -3px 5px #ffffff;}</style><div class="css-13fupha"><style data-emotion="css 1rsxa0p">.css-1rsxa0p{margin-bottom:10px;}</style><style data-emotion="css 1e40k0e">.css-1e40k0e{font-size:3.2rem;margin-bottom:10px;}</style><h1 class="css-1e40k0e">개발 블로그에서 마크다운을 다루는 방법</h1><span class="css-1rsxa0p">2022. 06. 19.</span><style data-emotion="css uewl2b">.css-uewl2b{margin-bottom:20px;}</style><style data-emotion="css 183tf0">.css-183tf0{height:1px;margin:5px 0px;margin-bottom:20px;}</style><hr class="css-183tf0"/><style data-emotion="css 1kmeffr">.css-1kmeffr{gap:20px;}</style><style data-emotion="css d0l4l7">.css-d0l4l7{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;gap:20px;}</style><div class="css-d0l4l7"><style data-emotion="css 1pzndko">.css-1pzndko{line-height:3rem;word-break:break-all;}.css-1pzndko img{width:100%;border:1px solid rgba(0, 0, 0, 0.2);}.css-1pzndko h1:before,.css-1pzndko h2:before,.css-1pzndko h3:before,.css-1pzndko h4:before,.css-1pzndko h5:before,.css-1pzndko h6:before{content:"";display:block;padding-top:90px;margin-top:-90px;}.css-1pzndko h1:hover .anchor,.css-1pzndko h2:hover .anchor,.css-1pzndko h3:hover .anchor,.css-1pzndko h4:hover .anchor,.css-1pzndko h5:hover .anchor,.css-1pzndko h6:hover .anchor{visibility:visible;}.css-1pzndko h1,.css-1pzndko h2,.css-1pzndko h3{margin-top:40px;margin-bottom:40px;}.css-1pzndko .anchor{visibility:hidden;margin-left:5px;vertical-align:middle;}.css-1pzndko blockquote{box-shadow:inset 1px 1px 2px #c3c4d9,inset -1px -1px 2px #ffffff;margin:0;padding:5px;border-left:0.25em solid #6667AB;}.css-1pzndko blockquote>*{margin:0;}.css-1pzndko p>code{box-shadow:inset 1px 1px 2px #c3c4d9,inset -1px -1px 2px #ffffff;padding:5px;margin-left:3px;margin-right:3px;color:#d55373;}.css-1pzndko:not(pre)>code[class*="language-"],.css-1pzndko pre{box-shadow:inset 3px 3px 5px #c3c4d9,inset -3px -3px 5px #ffffff;border:none;padding:15px;}.css-1pzndko code[class*="language-"],.css-1pzndko pre[class*="language-"]{background:none;color:hsl(230, 8%, 24%);font-family:"Fira Code","Fira Mono",Menlo,Consolas,"DejaVu Sans Mono",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1pzndko code[class*="language-"]::-moz-selection,.css-1pzndko code[class*="language-"] *::-moz-selection,.css-1pzndko pre[class*="language-"] *::-moz-selection{background:hsl(230, 1%, 90%);color:inherit;}.css-1pzndko code[class*="language-"]::selection,.css-1pzndko code[class*="language-"] *::selection,.css-1pzndko pre[class*="language-"] *::selection{background:hsl(230, 1%, 90%);color:inherit;}.css-1pzndko pre[class*="language-"]{padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em;}.css-1pzndko:not(pre)>code[class*="language-"]{padding:0.2em 0.3em;border-radius:0.3em;white-space:normal;}.css-1pzndko .token.comment,.css-1pzndko .token.prolog,.css-1pzndko .token.cdata{color:hsl(230, 4%, 64%);}.css-1pzndko .token.doctype,.css-1pzndko .token.punctuation,.css-1pzndko .token.entity{color:hsl(230, 8%, 24%);}.css-1pzndko .token.attr-name,.css-1pzndko .token.class-name,.css-1pzndko .token.boolean,.css-1pzndko .token.constant,.css-1pzndko .token.number,.css-1pzndko .token.atrule{color:hsl(35, 99%, 36%);}.css-1pzndko .token.keyword{color:hsl(301, 63%, 40%);}.css-1pzndko .token.property,.css-1pzndko .token.tag,.css-1pzndko .token.symbol,.css-1pzndko .token.deleted,.css-1pzndko .token.important{color:hsl(5, 74%, 59%);}.css-1pzndko .token.selector,.css-1pzndko .token.string,.css-1pzndko .token.char,.css-1pzndko .token.builtin,.css-1pzndko .token.inserted,.css-1pzndko .token.regex,.css-1pzndko .token.attr-value,.css-1pzndko .token.attr-value>.token.punctuation{color:hsl(119, 34%, 47%);}.css-1pzndko .token.variable,.css-1pzndko .token.operator,.css-1pzndko .token.function{color:hsl(221, 87%, 60%);}.css-1pzndko .token.url{color:hsl(198, 99%, 37%);}.css-1pzndko .token.attr-value>.token.punctuation.attr-equals,.css-1pzndko .token.special-attr>.token.attr-value>.token.value.css{color:hsl(230, 8%, 24%);}.css-1pzndko .language-css .token.selector{color:hsl(5, 74%, 59%);}.css-1pzndko .language-css .token.property{color:hsl(230, 8%, 24%);}.css-1pzndko .language-css .token.function,.css-1pzndko .language-css .token.url>.token.function{color:hsl(198, 99%, 37%);}.css-1pzndko .language-css .token.url>.token.string.url{color:hsl(119, 34%, 47%);}.css-1pzndko .language-css .token.important,.css-1pzndko .language-css .token.atrule .token.rule{color:hsl(301, 63%, 40%);}.css-1pzndko .language-javascript .token.operator{color:hsl(301, 63%, 40%);}.css-1pzndko .language-javascript .token.template-string>.token.interpolation>.token.interpolation-punctuation.punctuation{color:hsl(344, 84%, 43%);}.css-1pzndko .language-json .token.operator{color:hsl(230, 8%, 24%);}.css-1pzndko .language-json .token.null.keyword{color:hsl(35, 99%, 36%);}.css-1pzndko .language-markdown .token.url,.css-1pzndko .language-markdown .token.url>.token.operator,.css-1pzndko .language-markdown .token.url-reference.url>.token.string{color:hsl(230, 8%, 24%);}.css-1pzndko .language-markdown .token.url>.token.content{color:hsl(221, 87%, 60%);}.css-1pzndko .language-markdown .token.url>.token.url,.css-1pzndko .language-markdown .token.url-reference.url{color:hsl(198, 99%, 37%);}.css-1pzndko .language-markdown .token.blockquote.punctuation,.css-1pzndko .language-markdown .token.hr.punctuation{color:hsl(230, 4%, 64%);font-style:italic;}.css-1pzndko .language-markdown .token.code-snippet{color:hsl(119, 34%, 47%);}.css-1pzndko .language-markdown .token.bold .token.content{color:hsl(35, 99%, 36%);}.css-1pzndko .language-markdown .token.italic .token.content{color:hsl(301, 63%, 40%);}.css-1pzndko .language-markdown .token.strike .token.content,.css-1pzndko .language-markdown .token.strike .token.punctuation,.css-1pzndko .language-markdown .token.list.punctuation,.css-1pzndko .language-markdown .token.title.important>.token.punctuation{color:hsl(5, 74%, 59%);}.css-1pzndko .token.bold{font-weight:bold;}.css-1pzndko .token.comment,.css-1pzndko .token.italic{font-style:italic;}.css-1pzndko .token.entity{cursor:help;}.css-1pzndko .token.namespace{opacity:0.8;}.css-1pzndko .token.token.tab:not(:empty):before,.css-1pzndko .token.token.cr:before,.css-1pzndko .token.token.lf:before,.css-1pzndko .token.token.space:before{color:hsla(230, 8%, 24%, 0.2);}.css-1pzndko div.code-toolbar>.toolbar.toolbar>.toolbar-item{margin-right:0.4em;}.css-1pzndko div.code-toolbar>.toolbar.toolbar>.toolbar-item>button,.css-1pzndko div.code-toolbar>.toolbar.toolbar>.toolbar-item>a,.css-1pzndko div.code-toolbar>.toolbar.toolbar>.toolbar-item>span{background:hsl(230, 1%, 90%);color:hsl(230, 6%, 44%);padding:0.1em 0.4em;border-radius:0.3em;}.css-1pzndko div.code-toolbar>.toolbar.toolbar>.toolbar-item>button:hover,.css-1pzndko div.code-toolbar>.toolbar.toolbar>.toolbar-item>button:focus,.css-1pzndko div.code-toolbar>.toolbar.toolbar>.toolbar-item>a:hover,.css-1pzndko div.code-toolbar>.toolbar.toolbar>.toolbar-item>a:focus,.css-1pzndko div.code-toolbar>.toolbar.toolbar>.toolbar-item>span:hover,.css-1pzndko div.code-toolbar>.toolbar.toolbar>.toolbar-item>span:focus{background:hsl(230, 1%, 78%);color:hsl(230, 8%, 24%);}.css-1pzndko .line-highlight.line-highlight{background:hsla(230, 8%, 24%, 0.05);}.css-1pzndko .line-highlight.line-highlight:before,.css-1pzndko .line-highlight.line-highlight[data-end]:after{background:hsl(230, 1%, 90%);color:hsl(230, 8%, 24%);padding:0.1em 0.6em;border-radius:0.3em;box-shadow:0 2px 0 0 rgba(0, 0, 0, 0.2);}.css-1pzndko pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows>span:hover:before{background-color:hsla(230, 8%, 24%, 0.05);}.css-1pzndko .line-numbers.line-numbers .line-numbers-rows,.css-1pzndko .command-line .command-line-prompt{border-right-color:hsla(230, 8%, 24%, 0.2);}.css-1pzndko .line-numbers .line-numbers-rows>span:before,.css-1pzndko .command-line .command-line-prompt>span:before{color:hsl(230, 1%, 62%);}.css-1pzndko .rainbow-braces .token.token.punctuation.brace-level-1,.css-1pzndko .rainbow-braces .token.token.punctuation.brace-level-5,.css-1pzndko .rainbow-braces .token.token.punctuation.brace-level-9{color:hsl(5, 74%, 59%);}.css-1pzndko .rainbow-braces .token.token.punctuation.brace-level-2,.css-1pzndko .rainbow-braces .token.token.punctuation.brace-level-6,.css-1pzndko .rainbow-braces .token.token.punctuation.brace-level-10{color:hsl(119, 34%, 47%);}.css-1pzndko .rainbow-braces .token.token.punctuation.brace-level-3,.css-1pzndko .rainbow-braces .token.token.punctuation.brace-level-7,.css-1pzndko .rainbow-braces .token.token.punctuation.brace-level-11{color:hsl(221, 87%, 60%);}.css-1pzndko .rainbow-braces .token.token.punctuation.brace-level-4,.css-1pzndko .rainbow-braces .token.token.punctuation.brace-level-8,.css-1pzndko .rainbow-braces .token.token.punctuation.brace-level-12{color:hsl(301, 63%, 40%);}.css-1pzndko pre.diff-highlight>code .token.token.deleted:not(.prefix),.css-1pzndko pre>code.diff-highlight .token.token.deleted:not(.prefix){background-color:hsla(353, 100%, 66%, 0.15);}.css-1pzndko pre.diff-highlight>code .token.token.deleted:not(.prefix)::-moz-selection,.css-1pzndko pre.diff-highlight>code .token.token.deleted:not(.prefix) *::-moz-selection,.css-1pzndko pre>code.diff-highlight .token.token.deleted:not(.prefix)::-moz-selection,.css-1pzndko pre>code.diff-highlight .token.token.deleted:not(.prefix) *::-moz-selection{background-color:hsla(353, 95%, 66%, 0.25);}.css-1pzndko pre.diff-highlight>code .token.token.deleted:not(.prefix)::selection,.css-1pzndko pre.diff-highlight>code .token.token.deleted:not(.prefix) *::selection,.css-1pzndko pre>code.diff-highlight .token.token.deleted:not(.prefix)::selection,.css-1pzndko pre>code.diff-highlight .token.token.deleted:not(.prefix) *::selection{background-color:hsla(353, 95%, 66%, 0.25);}.css-1pzndko pre.diff-highlight>code .token.token.inserted:not(.prefix),.css-1pzndko pre>code.diff-highlight .token.token.inserted:not(.prefix){background-color:hsla(137, 100%, 55%, 0.15);}.css-1pzndko pre.diff-highlight>code .token.token.inserted:not(.prefix)::-moz-selection,.css-1pzndko pre.diff-highlight>code .token.token.inserted:not(.prefix) *::-moz-selection,.css-1pzndko pre>code.diff-highlight .token.token.inserted:not(.prefix)::-moz-selection,.css-1pzndko pre>code.diff-highlight .token.token.inserted:not(.prefix) *::-moz-selection{background-color:hsla(135, 73%, 55%, 0.25);}.css-1pzndko pre.diff-highlight>code .token.token.inserted:not(.prefix)::selection,.css-1pzndko pre.diff-highlight>code .token.token.inserted:not(.prefix) *::selection,.css-1pzndko pre>code.diff-highlight .token.token.inserted:not(.prefix)::selection,.css-1pzndko pre>code.diff-highlight .token.token.inserted:not(.prefix) *::selection{background-color:hsla(135, 73%, 55%, 0.25);}.css-1pzndko .prism-previewer.prism-previewer:before,.css-1pzndko .prism-previewer-gradient.prism-previewer-gradient div{border-color:hsl(0, 0, 95%);}.css-1pzndko .prism-previewer-color.prism-previewer-color:before,.css-1pzndko .prism-previewer-gradient.prism-previewer-gradient div,.css-1pzndko .prism-previewer-easing.prism-previewer-easing:before{border-radius:0.3em;}.css-1pzndko .prism-previewer.prism-previewer:after{border-top-color:hsl(0, 0, 95%);}.css-1pzndko .prism-previewer-flipped.prism-previewer-flipped.after{border-bottom-color:hsl(0, 0, 95%);}.css-1pzndko .prism-previewer-angle.prism-previewer-angle:before,.css-1pzndko .prism-previewer-time.prism-previewer-time:before,.css-1pzndko .prism-previewer-easing.prism-previewer-easing{background:hsl(0, 0%, 100%);}.css-1pzndko .prism-previewer-angle.prism-previewer-angle circle,.css-1pzndko .prism-previewer-time.prism-previewer-time circle{stroke:hsl(230, 8%, 24%);stroke-opacity:1;}.css-1pzndko .prism-previewer-easing.prism-previewer-easing circle,.css-1pzndko .prism-previewer-easing.prism-previewer-easing path,.css-1pzndko .prism-previewer-easing.prism-previewer-easing line{stroke:hsl(230, 8%, 24%);}.css-1pzndko .prism-previewer-easing.prism-previewer-easing circle{fill:transparent;}</style><div class="css-1pzndko"><h1 id="마크다운">마크다운?<a class="anchor" href="#마크다운"><svg class="autolink-svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z"></path></svg></a></h1>
<blockquote>
<p>마크다운은 일반 텍스트 기반의 경량 마크업 언어다. 일반 텍스트로 서식이 있는 문서를 작성하는 데 사용되며, 일반 마크업 언어에 비해 문법이 쉽고 간단한 것이 특징이다. <a href="https://ko.wikipedia.org/wiki/%EB%A7%88%ED%81%AC%EB%8B%A4%EC%9A%B4" target="_blank" rel="noopener noreferrer">위키백과</a></p>
</blockquote>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line"><span class="token title important"><span class="token punctuation">#</span> 이처럼 #이 하나 붙으면 h1 태그로 렌더함</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token list punctuation">-</span> list도 만들 수 있고
</span><span class="code-line">
</span><span class="code-line"><span class="token code-snippet code keyword">`Code도 표현할 수 있다.`</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token code"><span class="token punctuation">```</span><span class="token code-language">ts</span>
</span></span><span class="code-line"><span class="token code"><span class="token code-block language-ts"><span class="token keyword">const</span> <span class="token function-variable function">HelloBlog</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">"Hello Blog"</span><span class="token punctuation">;</span></span>
</span></span><span class="code-line"><span class="token code"><span class="token punctuation">```</span></span>
</span></code></pre>
<h1 id="이처럼-이-하나-붙으면-h1-태그로-렌더함">이처럼 #이 하나 붙으면 h1 태그로 렌더함<a class="anchor" href="#이처럼-이-하나-붙으면-h1-태그로-렌더함"><svg class="autolink-svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z"></path></svg></a></h1>
<ul>
<li>list도 만들 수 있고</li>
</ul>
<p><code>Code도 표현할 수 있다.</code></p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">HelloBlog</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">"Hello Blog"</span><span class="token punctuation">;</span>
</span></code></pre>
<hr>
<p>블로그 글을 쓸 때 매번 <code>&#x3C;h1>제목&#x3C;/h1></code> <code>&#x3C;code>const a = 1&#x3C;/code></code> 이렇게 작성한다면 나는 글도 써야하고 마크업도 신경써야 할 것이다.
이 때 마크다운 형식으로 포스팅을 작성한다면</p>
<ol>
<li>앞서 말한 것처럼 글감에만 집중할 수 있다.</li>
<li>마크다운 형식을 사용하는 다른 곳에 사용하기 용이하다.(대표적으로 GitHub Issue, Pull Request 등)</li>
<li>몇가지 스타일을 커스텀해두면 그 다음에는 디자인을 신경 쓰지 않아도 글을 작성하는 것이 수월하다.</li>
</ol>
<p>본론으로 돌아와서, 나의 블로그 제작 계획은 이러했다.
<code>/posts/</code>에 <code>포스팅.md</code> 형식으로 작성하고, 웹페이지를 렌더할 때(정확히는 빌드타임) 해당 파일을 읽어서 html로 변환하여 보여주는 것이다. 즉 내가 포스팅을 작성하기 위해서는 마크다운 파일을 <code>/posts/</code> 아래에 작성만 하면 되는 것이다.</p>
<p>우선 렌더하는 곳 <code>/posts/[postid]</code> 에서 <code>getStaticPaths</code>/<code>getStaticProp</code>를 통해 마크다운 파일을 읽도록 했다. 이 함수들은 빌드타임에 실행되고, 빌드 후에는 다시 실행되지 않는 함수이다. (즉 유저가 접속할 때 마다 실행되는 것이 아니고 빌드 시에 호출한 getStaticXXX()의 결과물을 보여줄 것이다.) <a href="https://nextjs.org/docs/basic-features/data-fetching/get-static-paths" target="_blank" rel="noopener noreferrer">next 도큐먼트</a></p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> getStaticPaths<span class="token operator">:</span> <span class="token function-variable function">GetStaticPaths</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> dir <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"posts"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> fileNames <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readdirSync</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> paths <span class="token operator">=</span> fileNames<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">    params<span class="token operator">:</span> <span class="token punctuation">{</span> fileName<span class="token operator">:</span> postUtils<span class="token punctuation">.</span><span class="token function">getFileNameBase</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="code-line">    paths<span class="token punctuation">,</span>
</span><span class="code-line">    fallback<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> getStaticProps<span class="token operator">:</span> <span class="token function-variable function">GetStaticProps</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> params <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>params<span class="token operator">?.</span>fileName <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"fileName을 찾을 수 없습니다."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> dir <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"posts"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> fileName <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>dir<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>params<span class="token punctuation">.</span>fileName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.md</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>fileName<span class="token punctuation">,</span> <span class="token string">"utf8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> attributes<span class="token punctuation">,</span> body <span class="token punctuation">}</span> <span class="token operator">=</span> postUtils<span class="token punctuation">.</span><span class="token function">parseFrontMatter</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> safeAttributes <span class="token operator">=</span> postUtils<span class="token punctuation">.</span><span class="token function">safeParseAttributes</span><span class="token punctuation">(</span>attributes<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">    date<span class="token operator">:</span> dateUtils<span class="token punctuation">.</span><span class="token function">formatDate</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">statSync</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">.</span>birthtime<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="code-line">    props<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      attributes<span class="token operator">:</span> safeAttributes<span class="token punctuation">,</span>
</span><span class="code-line">      body<span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre>
<p>이 때 포스트의 메타데이터를 주입해주기 위해 <code>frontMatterParser</code> 를 사용했는데, 파일 맨 위에 선엄함으로써 이 포스트의 title, description, date 등의 정보들을 정의할 수 있다. yaml 파일 형식에서 많이 사용하는 듯 하다. 나는 예전에 jekyll을 이용한 깃허브 블로그를 만들 때 front matter를 사용했던 기억이 떠올라 같은 방식을 선택했다.</p>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line"><span class="token front-matter-block"><span class="token punctuation">---</span>
</span></span><span class="code-line"><span class="token front-matter-block"><span class="token front-matter yaml language-yaml"><span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token string">"블로그 만들기(1) - 마크다운 이 녀석"</span>
</span></span></span><span class="code-line"><span class="token front-matter-block"><span class="token front-matter yaml language-yaml"><span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">"개발 블로그에 기본이라고 할 수 있는 마크다운 파서와 Syntax highlight 삽질을 들여다보자"</span>
</span></span></span><span class="code-line"><span class="token front-matter-block"><span class="token front-matter yaml language-yaml"><span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token string">"2022-06-19"</span></span>
</span></span><span class="code-line"><span class="token front-matter-block"><span class="token punctuation">---</span></span>
</span></code></pre>
<blockquote>
<p>이 포스팅의 FrontMatter</p>
</blockquote>
<p>작업을 요약하자면</p>
<ol>
<li>마크다운 파일을 불러와서</li>
<li>front matter를 분리한 본문(body)를 획득했다.</li>
</ol>
<p>남은 작업은 아래의 3번 4번 정도인데..</p>
<ol start="3">
<li>markdown을 html로 바꾸어 렌더하기</li>
<li>syntax highlighting을 통해 고도화하기</li>
</ol>
<p>Markdown 문법의 텍스트를 html로 바꾸어주는 라이브러리는 꽤나 많은데, 가장 유명하고 커뮤니티가 큰 라이브러리는 <a href="https://unifiedjs.com/" target="_blank" rel="noopener noreferrer">unifiedjs</a> 이다. unified는 <code>remark</code>(마크다운) / <code>rehype</code>(HTML), <code>retext</code>(자연어) 등등을 지원하는데, 블로그 포스팅을 위해서는 remark와 rehype만 있으면 된다.
추가적으로 Code Syntax를 하이라이팅 해주고 싶어서 <code>rehype-prism-plus</code> 라는 라이브러리도 추가했다.</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">import</span> rehypePrism <span class="token keyword">from</span> <span class="token string">"rehype-prism-plus"</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> rehypeStringify <span class="token keyword">from</span> <span class="token string">"rehype-stringify/lib"</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> remark <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"remark"</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> remarkParse <span class="token keyword">from</span> <span class="token string">"remark-parse"</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> remarkRehype <span class="token keyword">from</span> <span class="token string">"remark-rehype"</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">function</span> <span class="token function">MarkdownRenderer</span><span class="token punctuation">(</span><span class="token punctuation">{</span> markdown <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> markdown<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> htmlText <span class="token operator">=</span> <span class="token function">remark</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>remarkParse<span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>remarkRehype<span class="token punctuation">,</span> <span class="token punctuation">{</span> allowDangerousHtml<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>rehypeStringify<span class="token punctuation">,</span> <span class="token punctuation">{</span> allowDangerousHtml<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>rehypePrism<span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token function">processSync</span><span class="token punctuation">(</span>markdown<span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token operator">&#x3C;</span>MarkdownRenderBlock dangerouslySetInnerHTML<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> __html<span class="token operator">:</span> htmlText <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> MarkdownRenderBlock <span class="token operator">=</span> styled<span class="token punctuation">.</span>div<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  line-height: 3rem;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  blockquote {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    box-shadow: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">createNeumorphismBoxShadow</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> inset<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    margin: 0;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    padding: 5px;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    border-left: 0.25em solid </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>neumorphismTheme<span class="token punctuation">.</span>secondary<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    &#x26; > * {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      margin: 0;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  p > code {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    box-shadow: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">createNeumorphismBoxShadow</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> inset<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    padding: 5px;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    margin-left: 3px;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    margin-right: 3px;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  :not(pre) > code[class*="language-"],
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  pre {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    background: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>theme<span class="token punctuation">.</span>palette<span class="token punctuation">.</span>primary<span class="token punctuation">.</span>light<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    box-shadow: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">createNeumorphismBoxShadow</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> inset<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    border: none;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    padding: 15px;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  // 여기 아래부터 커스텀(prism-themes)
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  /**
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string"> * VS theme by Andrew Lock (https://andrewlock.net)
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string"> * Inspired by Visual Studio syntax coloring
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string"> */
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  code[class*="language-"],
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  pre[class*="language-"] {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    color: #393a34;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    font-family: "Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      monospace;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    direction: ltr;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    text-align: left;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    white-space: pre;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    word-spacing: normal;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    word-break: normal;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    font-size: 0.9em;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    line-height: 1.2em;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    -moz-tab-size: 4;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    -o-tab-size: 4;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    tab-size: 4;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    -webkit-hyphens: none;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    -moz-hyphens: none;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    -ms-hyphens: none;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    hyphens: none;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  pre > code[class*="language-"] {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    font-size: 1em;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  pre[class*="language-"]::-moz-selection,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  pre[class*="language-"] ::-moz-selection,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  code[class*="language-"]::-moz-selection,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  code[class*="language-"] ::-moz-selection {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    background: #c1def1;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  pre[class*="language-"]::selection,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  pre[class*="language-"] ::selection,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  code[class*="language-"]::selection,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  code[class*="language-"] ::selection {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    background: #c1def1;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  /* Code blocks */
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  pre[class*="language-"] {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    padding: 1em;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    margin: 0.5em 0;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    overflow: auto;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    border: 1px solid #dddddd;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    background: none;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  /* Inline code */
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  :not(pre) > code[class*="language-"] {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    padding: 0.2em;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    padding-top: 1px;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    padding-bottom: 1px;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    background: #f8f8f8;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    border: 1px solid #dddddd;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.comment,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.prolog,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.doctype,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.cdata {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    color: #008000;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    font-style: italic;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.namespace {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    opacity: 0.7;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.string {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    color: #a31515;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.punctuation,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.operator {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    color: #393a34; /* no highlight */
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.url,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.symbol,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.number,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.boolean,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.variable,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.constant,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.inserted {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    color: #36acaa;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.atrule,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.keyword,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.attr-value,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .language-autohotkey .token.selector,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .language-json .token.boolean,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .language-json .token.number,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  code[class*="language-css"] {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    color: #0000ff;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.function {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    color: #393a34;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.deleted,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .language-autohotkey .token.tag {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    color: #9a050f;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.selector,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .language-autohotkey .token.keyword {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    color: #00009f;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.important {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    color: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>theme<span class="token punctuation">.</span>palette<span class="token punctuation">.</span>secondary<span class="token punctuation">.</span>dark<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.important,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.bold {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    font-weight: bold;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.italic {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    font-style: italic;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.class-name,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .language-json .token.property {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    color: #2b91af;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.tag,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.selector {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    color: #800000;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.attr-name,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.property,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.regex,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.entity {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    color: #ff0000;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .token.directive.tag .tag {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    background: #ffff00;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    color: #393a34;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  /* overrides color-values for the Line Numbers plugin
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string"> * http://prismjs.com/plugins/line-numbers/
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string"> */
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .line-numbers.line-numbers .line-numbers-rows {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    border-right-color: #a5a5a5;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .line-numbers .line-numbers-rows > span:before {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    color: #2b91af;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  /* overrides color-values for the Line Highlight plugin
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">* http://prismjs.com/plugins/line-highlight/
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">*/
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  .line-highlight.line-highlight {
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    background: rgba(193, 222, 241, 0.2);
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    background: -webkit-linear-gradient(
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      left,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      rgba(193, 222, 241, 0.2) 70%,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      rgba(221, 222, 241, 0)
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    );
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    background: linear-gradient(
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      to right,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      rgba(193, 222, 241, 0.2) 70%,
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      rgba(221, 222, 241, 0)
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    );
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  }
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string"></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span></code></pre>
<blockquote>
<p>스타일은 조금씩 커스텀했다.</p>
</blockquote>
<p>만족스러운 디자인의 포맷을 만들어서 기분이 좋다.
글을 열심히 써야겠다.</p></div></div></div><div></div></div></main><style data-emotion="css 1lnw9wg">.css-1lnw9wg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:30px;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;white-space:pre;height:80px;}</style><footer class="css-1lnw9wg"><span>Copyright <!-- -->2022<!-- -->. </span><style data-emotion="css 1ovucv3">.css-1ovucv3{-webkit-text-decoration:none;text-decoration:none;color:inherit;color:#6667AB;}</style><a href="https://github.com/solidw" target="_blank" rel="noopener noreferrer" class="css-1ovucv3"><span>@solidw</span></a><span> All rights reserved.</span></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"metadata":{"id":0,"title":"개발 블로그에서 마크다운을 다루는 방법","description":"개발 블로그에 기본이라고 할 수 있는 Markdown 파서와 Syntax highlight 삽질을 들여다보자","to":"한 땀 한 땀 블로그를 만들고 싶은 사람들에게","timestamp":"2022-06-19T00:00:00.000Z","draft":false,"path":"how-to-handle-markdown-on-developers-blog"},"body":"# 마크다운?\n\n\u003e 마크다운은 일반 텍스트 기반의 경량 마크업 언어다. 일반 텍스트로 서식이 있는 문서를 작성하는 데 사용되며, 일반 마크업 언어에 비해 문법이 쉽고 간단한 것이 특징이다. [위키백과](https://ko.wikipedia.org/wiki/%EB%A7%88%ED%81%AC%EB%8B%A4%EC%9A%B4)\n\n````markdown\n# 이처럼 #이 하나 붙으면 h1 태그로 렌더함\n\n- list도 만들 수 있고\n\n`Code도 표현할 수 있다.`\n\n```ts\nconst HelloBlog = () =\u003e \"Hello Blog\";\n```\n````\n\n# 이처럼 #이 하나 붙으면 h1 태그로 렌더함\n\n- list도 만들 수 있고\n\n`Code도 표현할 수 있다.`\n\n```ts\nconst HelloBlog = () =\u003e \"Hello Blog\";\n```\n\n---\n\n블로그 글을 쓸 때 매번 `\u003ch1\u003e제목\u003c/h1\u003e` `\u003ccode\u003econst a = 1\u003c/code\u003e` 이렇게 작성한다면 나는 글도 써야하고 마크업도 신경써야 할 것이다.\n이 때 마크다운 형식으로 포스팅을 작성한다면\n\n1. 앞서 말한 것처럼 글감에만 집중할 수 있다.\n2. 마크다운 형식을 사용하는 다른 곳에 사용하기 용이하다.(대표적으로 GitHub Issue, Pull Request 등)\n3. 몇가지 스타일을 커스텀해두면 그 다음에는 디자인을 신경 쓰지 않아도 글을 작성하는 것이 수월하다.\n\n본론으로 돌아와서, 나의 블로그 제작 계획은 이러했다.\n`/posts/`에 `포스팅.md` 형식으로 작성하고, 웹페이지를 렌더할 때(정확히는 빌드타임) 해당 파일을 읽어서 html로 변환하여 보여주는 것이다. 즉 내가 포스팅을 작성하기 위해서는 마크다운 파일을 `/posts/` 아래에 작성만 하면 되는 것이다.\n\n우선 렌더하는 곳 `/posts/[postid]` 에서 `getStaticPaths`/`getStaticProp`를 통해 마크다운 파일을 읽도록 했다. 이 함수들은 빌드타임에 실행되고, 빌드 후에는 다시 실행되지 않는 함수이다. (즉 유저가 접속할 때 마다 실행되는 것이 아니고 빌드 시에 호출한 getStaticXXX()의 결과물을 보여줄 것이다.) [next 도큐먼트](https://nextjs.org/docs/basic-features/data-fetching/get-static-paths)\n\n```ts\nexport const getStaticPaths: GetStaticPaths = async () =\u003e {\n  const dir = path.join(process.cwd(), \"posts\");\n  const fileNames = fs.readdirSync(dir);\n\n  const paths = fileNames.map((fileName) =\u003e ({\n    params: { fileName: postUtils.getFileNameBase(fileName) },\n  }));\n\n  return {\n    paths,\n    fallback: false,\n  };\n};\n\nexport const getStaticProps: GetStaticProps = async ({ params }) =\u003e {\n  if (params?.fileName == null) {\n    throw new Error(\"fileName을 찾을 수 없습니다.\");\n  }\n\n  const dir = path.join(process.cwd(), \"posts\");\n  const fileName = `${dir}/${params.fileName}.md`;\n\n  const content = fs.readFileSync(fileName, \"utf8\");\n  const { attributes, body } = postUtils.parseFrontMatter(content);\n\n  const safeAttributes = postUtils.safeParseAttributes(attributes, {\n    date: dateUtils.formatDate(fs.statSync(fileName).birthtime),\n  });\n\n  return {\n    props: {\n      attributes: safeAttributes,\n      body,\n    },\n  };\n};\n```\n\n이 때 포스트의 메타데이터를 주입해주기 위해 `frontMatterParser` 를 사용했는데, 파일 맨 위에 선엄함으로써 이 포스트의 title, description, date 등의 정보들을 정의할 수 있다. yaml 파일 형식에서 많이 사용하는 듯 하다. 나는 예전에 jekyll을 이용한 깃허브 블로그를 만들 때 front matter를 사용했던 기억이 떠올라 같은 방식을 선택했다.\n\n```markdown\n---\ntitle: \"블로그 만들기(1) - 마크다운 이 녀석\"\ndescription: \"개발 블로그에 기본이라고 할 수 있는 마크다운 파서와 Syntax highlight 삽질을 들여다보자\"\ndate: \"2022-06-19\"\n---\n```\n\n\u003e 이 포스팅의 FrontMatter\n\n작업을 요약하자면\n\n1. 마크다운 파일을 불러와서\n2. front matter를 분리한 본문(body)를 획득했다.\n\n남은 작업은 아래의 3번 4번 정도인데..\n\n3. markdown을 html로 바꾸어 렌더하기\n4. syntax highlighting을 통해 고도화하기\n\nMarkdown 문법의 텍스트를 html로 바꾸어주는 라이브러리는 꽤나 많은데, 가장 유명하고 커뮤니티가 큰 라이브러리는 [unifiedjs](https://unifiedjs.com/) 이다. unified는 `remark`(마크다운) / `rehype`(HTML), `retext`(자연어) 등등을 지원하는데, 블로그 포스팅을 위해서는 remark와 rehype만 있으면 된다.\n추가적으로 Code Syntax를 하이라이팅 해주고 싶어서 `rehype-prism-plus` 라는 라이브러리도 추가했다.\n\n```ts\nimport rehypePrism from \"rehype-prism-plus\";\nimport rehypeStringify from \"rehype-stringify/lib\";\nimport { remark } from \"remark\";\nimport remarkParse from \"remark-parse\";\nimport remarkRehype from \"remark-rehype\";\n\nfunction MarkdownRenderer({ markdown }: { markdown: string }) {\n  const htmlText = remark()\n    .use(remarkParse)\n    .use(remarkRehype, { allowDangerousHtml: true })\n    .use(rehypeStringify, { allowDangerousHtml: true })\n    .use(rehypePrism)\n    .processSync(markdown)\n    .toString();\n\n  return \u003cMarkdownRenderBlock dangerouslySetInnerHTML={{ __html: htmlText }} /\u003e;\n}\n\nconst MarkdownRenderBlock = styled.div`\n  line-height: 3rem;\n  blockquote {\n    box-shadow: ${createNeumorphismBoxShadow(1, 2, { inset: true })};\n    margin: 0;\n    padding: 5px;\n    border-left: 0.25em solid ${neumorphismTheme.secondary};\n    \u0026 \u003e * {\n      margin: 0;\n    }\n  }\n\n  p \u003e code {\n    box-shadow: ${createNeumorphismBoxShadow(1, 2, { inset: true })};\n    padding: 5px;\n    margin-left: 3px;\n    margin-right: 3px;\n  }\n\n  :not(pre) \u003e code[class*=\"language-\"],\n  pre {\n    background: ${theme.palette.primary.light};\n    box-shadow: ${createNeumorphismBoxShadow(3, 5, { inset: true })};\n    border: none;\n    padding: 15px;\n  }\n\n  // 여기 아래부터 커스텀(prism-themes)\n  /**\n * VS theme by Andrew Lock (https://andrewlock.net)\n * Inspired by Visual Studio syntax coloring\n */\n\n  code[class*=\"language-\"],\n  pre[class*=\"language-\"] {\n    color: #393a34;\n    font-family: \"Consolas\", \"Bitstream Vera Sans Mono\", \"Courier New\", Courier,\n      monospace;\n    direction: ltr;\n    text-align: left;\n    white-space: pre;\n    word-spacing: normal;\n    word-break: normal;\n    font-size: 0.9em;\n    line-height: 1.2em;\n\n    -moz-tab-size: 4;\n    -o-tab-size: 4;\n    tab-size: 4;\n\n    -webkit-hyphens: none;\n    -moz-hyphens: none;\n    -ms-hyphens: none;\n    hyphens: none;\n  }\n\n  pre \u003e code[class*=\"language-\"] {\n    font-size: 1em;\n  }\n\n  pre[class*=\"language-\"]::-moz-selection,\n  pre[class*=\"language-\"] ::-moz-selection,\n  code[class*=\"language-\"]::-moz-selection,\n  code[class*=\"language-\"] ::-moz-selection {\n    background: #c1def1;\n  }\n\n  pre[class*=\"language-\"]::selection,\n  pre[class*=\"language-\"] ::selection,\n  code[class*=\"language-\"]::selection,\n  code[class*=\"language-\"] ::selection {\n    background: #c1def1;\n  }\n\n  /* Code blocks */\n  pre[class*=\"language-\"] {\n    padding: 1em;\n    margin: 0.5em 0;\n    overflow: auto;\n    border: 1px solid #dddddd;\n    background: none;\n  }\n\n  /* Inline code */\n  :not(pre) \u003e code[class*=\"language-\"] {\n    padding: 0.2em;\n    padding-top: 1px;\n    padding-bottom: 1px;\n    background: #f8f8f8;\n    border: 1px solid #dddddd;\n  }\n\n  .token.comment,\n  .token.prolog,\n  .token.doctype,\n  .token.cdata {\n    color: #008000;\n    font-style: italic;\n  }\n\n  .token.namespace {\n    opacity: 0.7;\n  }\n\n  .token.string {\n    color: #a31515;\n  }\n\n  .token.punctuation,\n  .token.operator {\n    color: #393a34; /* no highlight */\n  }\n\n  .token.url,\n  .token.symbol,\n  .token.number,\n  .token.boolean,\n  .token.variable,\n  .token.constant,\n  .token.inserted {\n    color: #36acaa;\n  }\n\n  .token.atrule,\n  .token.keyword,\n  .token.attr-value,\n  .language-autohotkey .token.selector,\n  .language-json .token.boolean,\n  .language-json .token.number,\n  code[class*=\"language-css\"] {\n    color: #0000ff;\n  }\n\n  .token.function {\n    color: #393a34;\n  }\n\n  .token.deleted,\n  .language-autohotkey .token.tag {\n    color: #9a050f;\n  }\n\n  .token.selector,\n  .language-autohotkey .token.keyword {\n    color: #00009f;\n  }\n\n  .token.important {\n    color: ${theme.palette.secondary.dark};\n  }\n\n  .token.important,\n  .token.bold {\n    font-weight: bold;\n  }\n\n  .token.italic {\n    font-style: italic;\n  }\n\n  .token.class-name,\n  .language-json .token.property {\n    color: #2b91af;\n  }\n\n  .token.tag,\n  .token.selector {\n    color: #800000;\n  }\n\n  .token.attr-name,\n  .token.property,\n  .token.regex,\n  .token.entity {\n    color: #ff0000;\n  }\n\n  .token.directive.tag .tag {\n    background: #ffff00;\n    color: #393a34;\n  }\n\n  /* overrides color-values for the Line Numbers plugin\n * http://prismjs.com/plugins/line-numbers/\n */\n  .line-numbers.line-numbers .line-numbers-rows {\n    border-right-color: #a5a5a5;\n  }\n\n  .line-numbers .line-numbers-rows \u003e span:before {\n    color: #2b91af;\n  }\n\n  /* overrides color-values for the Line Highlight plugin\n* http://prismjs.com/plugins/line-highlight/\n*/\n  .line-highlight.line-highlight {\n    background: rgba(193, 222, 241, 0.2);\n    background: -webkit-linear-gradient(\n      left,\n      rgba(193, 222, 241, 0.2) 70%,\n      rgba(221, 222, 241, 0)\n    );\n    background: linear-gradient(\n      to right,\n      rgba(193, 222, 241, 0.2) 70%,\n      rgba(221, 222, 241, 0)\n    );\n  }\n`;\n```\n\n\u003e 스타일은 조금씩 커스텀했다.\n\n만족스러운 디자인의 포맷을 만들어서 기분이 좋다.\n글을 열심히 써야겠다.\n"},"__N_SSG":true},"page":"/posts/[path]","query":{"path":"how-to-handle-markdown-on-developers-blog"},"buildId":"5EtWXaz9qWYw7KH_bE9UX","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>